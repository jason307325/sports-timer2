<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>é¸æ‰‹åˆ†æ®µç§’å·®è¨ˆç®—å™¨ 2026</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0071e3">

<style>
/* === åŸæœ¬æ¨£å¼å®Œå…¨ä¿ç•™ï¼ˆç•¥ï¼Œèˆ‡ä½ è²¼çš„ä¸€æ¨£ï¼‰ === */
:root{
    --apple-blue:#0071e3;
    --apple-orange:#ff9500;
    --apple-gray:#8e8e93;
    --apple-bg:#f2f2f7;
}
html,body{
    margin:0;padding:0;height:100%;
    background:var(--apple-bg);
    touch-action:manipulation;
    user-select:none;
}
body{
    font-family:-apple-system;
    display:flex;justify-content:center;
}
.container{
    width:100%;max-width:500px;height:100svh;
    background:#fff;display:flex;flex-direction:column;
    padding:8px 12px;box-sizing:border-box;
}
header{text-align:center}
h2{margin:2px 0;font-size:18px}

/* === æ–°å¢ï¼šæ¨¡å¼åˆ‡æ› === */
.mode-switch{
    display:flex;gap:6px;margin-bottom:6px;
}
.mode-switch button{
    flex:1;padding:6px;border:none;border-radius:6px;
    font-size:14px;font-weight:bold;
}
.mode-switch .active{
    background:var(--apple-blue);color:#fff;
}
.mode-switch .inactive{
    background:#e5e5ea;
}

.time-box{
    display:flex;justify-content:center;align-items:center;
    font-variant-numeric:tabular-nums;
}
.time{
    width:80px;height:64px;line-height:64px;
    text-align:center;font-size:40px;font-weight:bold;
    border:2px solid #ccc;border-radius:12px;
}
.sep{margin:0 6px;font-size:32px;color:#aaa}

.actions{display:flex;gap:6px;margin:6px 0;}
.actions button{
    flex:1;padding:14px;border:none;border-radius:10px;
    font-size:18px;font-weight:bold;
}
.btn-main{background:var(--apple-blue);color:#fff;}
.btn-orange{background:var(--apple-orange);color:#fff;}
.btn-gray{background:var(--apple-gray);color:#fff;}

.keypad{
    display:grid;grid-template-columns:repeat(3,1fr);gap:8px;
}
.keypad button{
    font-size:24px;padding:14px;border-radius:12px;
    background:#e5e5ea;
}
.keypad .delete{background:#ff3b30;color:#fff}
.keypad .action{background:var(--apple-blue);color:#fff}
.keypad.disabled{opacity:.4;pointer-events:none}
</style>
</head>

<body>
<div class="container">

<header>
<h2>ğŸŠ é¸æ‰‹åˆ†æ®µç§’å·®è¨ˆç®—å™¨ 2026</h2>
</header>

<!-- ğŸ” æ¨¡å¼åˆ‡æ› -->
<div class="mode-switch">
<button id="manualBtn" class="active">æ‰‹å‹•è¼¸å…¥</button>
<button id="swBtn" class="inactive">â± ç¢¼éŒ¶</button>
</div>

<div class="time-box">
<div id="min" class="time">00</div><span class="sep">:</span>
<div id="sec" class="time">00</div><span class="sep">.</span>
<div id="ms" class="time">00</div>
</div>

<div class="actions">
<button id="mainBtn" class="btn-main">âœ“ æ–°å¢ç´€éŒ„</button>
<button id="clear" class="btn-gray">æ¸…é™¤</button>
</div>

<div class="keypad" id="keypad">
<button data="7">7</button><button data="8">8</button><button data="9">9</button>
<button data="4">4</button><button data="5">5</button><button data="6">6</button>
<button data="1">1</button><button data="2">2</button><button data="3">3</button>
<button class="delete" data="del">âŒ«</button><button data="0">0</button>
<button class="action" data="save">âœ“</button>
</div>

</div>

<script>
/* === åŸæœ¬è³‡æ–™ === */
const fields=["min","sec","ms"];
const $=id=>document.getElementById(id);
let records=[];

/* === æ¨¡å¼ === */
let mode="manual";

/* === ç¢¼éŒ¶ç‹€æ…‹ === */
let swRunning=false;
let swStart=0;
let swElapsed=0;
let swRAF=null;

/* === æ¨¡å¼åˆ‡æ› === */
manualBtn.onclick=()=>setMode("manual");
swBtn.onclick=()=>setMode("stopwatch");

function setMode(m){
    mode=m;
    manualBtn.className=m==="manual"?"active":"inactive";
    swBtn.className=m==="stopwatch"?"active":"inactive";
    keypad.classList.toggle("disabled",m==="stopwatch");
    mainBtn.textContent=m==="stopwatch"
        ? (swRunning?"â± åˆ†æ®µ":"â–¶ é–‹å§‹")
        : "âœ“ æ–°å¢ç´€éŒ„";
}

/* === ç¢¼éŒ¶æ ¸å¿ƒ === */
function swTick(){
    swElapsed=(performance.now()-swStart)/1000;
    setTime(swElapsed);
    swRAF=requestAnimationFrame(swTick);
}

function setTime(t){
    min.textContent=String(Math.floor(t/60)).padStart(2,"0");
    sec.textContent=String(Math.floor(t%60)).padStart(2,"0");
    ms.textContent=String(Math.floor((t%1)*100)).padStart(2,"0");
}

/* === ä¸»æŒ‰éˆ• === */
mainBtn.onclick=()=>{
    if(mode==="manual"){
        saveManual();
    }else{
        if(!swRunning){
            swRunning=true;
            swStart=performance.now()-swElapsed*1000;
            swTick();
            mainBtn.textContent="â± åˆ†æ®µ";
        }else{
            saveStopwatchLap();
        }
    }
};

function saveStopwatchLap(){
    records.push({total:swElapsed});
}

/* === æ‰‹å‹•å„²å­˜ï¼ˆåŸæœ¬è¡Œç‚ºï¼‰ === */
function saveManual(){
    const t=+$("min").textContent*60 + +$("sec").textContent + +$("ms").textContent/100;
    if(t>0) records.push({total:t});
}

/* === æ¸…é™¤ === */
clear.onclick=()=>{
    swRunning=false;
    cancelAnimationFrame(swRAF);
    swElapsed=0;
    setTime(0);
    mainBtn.textContent=mode==="stopwatch"?"â–¶ é–‹å§‹":"âœ“ æ–°å¢ç´€éŒ„";
};
</script>

</body>
</html>
